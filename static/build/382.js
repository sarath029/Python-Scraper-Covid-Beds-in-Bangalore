(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[382],{6382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var a=n(9941),r=n(795),l=n(6584),o=n(4724),i=n(8543),c=n(3379),u=n.n(c),s=n(8815);u()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;var f=n(9669),d=n.n(f),b=n(7294);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const p=function(){var e=m((0,b.useState)("loading"),2),t=e[0],n=e[1],c=m((0,b.useState)([]),2),u=c[0],s=c[1],f=m((0,b.useState)(null),2),h=(f[0],f[1]);if((0,b.useEffect)((function(){d().get("/api/availability").then((function(e){console.log(e.data),n("show"),s(e.data)})).catch((function(){n("error")}))}),[]),"show"==t){var p=function(){var e=(0,a.zV)({click:function(){console.log("map-clicked"),e.locate()},locationfound:function(t){h(t.latlng),e.flyTo(t.latlng,14)}});return null};return React.createElement("div",{className:"Map"},React.createElement(r.h,{center:[12.9716,77.5946],zoom:12},React.createElement(p,null),React.createElement(l.I,{attribution:'Â© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),u.map((function(e){return React.createElement("div",null,React.createElement(o.C,{center:[e.coordinate.split(",")[0],e.coordinate.split(",")[1]],fillColor:"blue",radius:4*e.available_total+200},React.createElement(i.G,null,React.createElement("p",{style:{fontSize:"1.5vh"}},"Facility: ",e.name_of_the_facility," ",React.createElement("br",null),"Total available beds: ",e.available_total," ",React.createElement("br",null),"Available Gen: ",e.available_gen," ",React.createElement("br",null),"Available ICU: ",e.available_icu," ",React.createElement("br",null),"Available ICU Ventl: ",e.available_icu_ventl," "))))}))))}return"loading"==t?React.createElement("div",null,"Loading Map....."):React.createElement("div",null,"Error Loading the data!!")}},8815:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(3645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".Map {\n    background-color: rgb(175, 175, 175);\n    width: 100%;\n    height: 100%;\n    margin-bottom: 3%;\n}\n  \n.Map .leaflet-container {\n    position: relative;\n    width: 100%;\n    height: 100%;\n}\n",""]);const l=r}}]);