(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[841],{5841:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var n=a(3474),l=a(4479),r=a(9941),i=a(795),c=a(6584),o=a(4724),u=a(8543),s=a(3379),f=a.n(s),m=a(8815);f()(m.Z,{insert:"head",singleton:!1}),m.Z.locals;var b=a(9669),d=a.n(b),h=a(7294);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,l=!1,r=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){l=!0,r=e}finally{try{n||null==c.return||c.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const y=function(){var e=v((0,h.useState)("loading"),2),t=e[0],a=e[1],n=v((0,h.useState)([]),2),l=n[0],s=n[1],f=v((0,h.useState)(null),2),m=(f[0],f[1]);if((0,h.useEffect)((function(){d().get("/api/availability").then((function(e){console.log(e.data),a("show"),s(e.data)})).catch((function(){a("error")}))}),[]),"show"==t){var b=function(){var e=(0,r.zV)({click:function(){console.log("map-clicked"),e.locate()},locationfound:function(t){m(t.latlng),e.flyTo(t.latlng,14)}});return null};return React.createElement("div",{className:"Map"},React.createElement(i.h,{center:[12.9716,77.5946],zoom:12},React.createElement(b,null),React.createElement(c.I,{attribution:'Â© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l.map((function(e){return React.createElement("div",null,React.createElement(o.C,{center:[e.coordinate.split(",")[0],e.coordinate.split(",")[1]],fillColor:"blue",radius:4*e.available_total+200},React.createElement(u.G,null,React.createElement("p",{style:{fontSize:"1.5vh"}},"Facility: ",e.name_of_the_facility," ",React.createElement("br",null),"Total available beds: ",e.available_total," ",React.createElement("br",null),"Available Gen: ",e.available_gen," ",React.createElement("br",null),"Available ICU: ",e.available_icu," ",React.createElement("br",null),"Available ICU Ventl: ",e.available_icu_ventl," "))))}))))}return"loading"==t?React.createElement("div",null,"Loading Map....."):React.createElement("div",null,"Error Loading the data!!")},g=function(){return React.createElement("div",null,React.createElement(n.Z,{variant:"secondary"},React.createElement(n.Z.Heading,{style:{fontSize:"2.5vh"}},"Availability of beds in Bangalore for C+ patients"),React.createElement("hr",null),React.createElement("p",{className:"mb-0",style:{fontSize:"2vh"}},"Resource : ",React.createElement("a",{href:"https://bbmpgov.com/"},"BBMP"),React.createElement("br",null),React.createElement("a",{href:"/api/availability"},"Availability of beds API"),React.createElement("br",null),React.createElement("a",{href:"https://github.com/sarath029/availability-of-beds-for-covid-positive-patients-in-bangalore"},"Github"))),React.createElement(l.Z,{className:"m-5",style:{height:"90%"}},React.createElement(l.Z.Body,null,React.createElement(y,null))))}},8815:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(3645),l=a.n(n)()((function(e){return e[1]}));l.push([e.id,".Map {\n    background-color: rgb(175, 175, 175);\n    width: 100%;\n    height: 100%;\n    margin-bottom: 3%;\n}\n  \n.Map .leaflet-container {\n    position: relative;\n    width: 100%;\n    height: 100%;\n}\n",""]);const r=l}}]);